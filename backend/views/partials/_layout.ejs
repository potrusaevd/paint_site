<!DOCTYPE html>
<html lang="ru">
<head>
    <title><%= title %></title>
    <!-- Подключаем ОБЩИЕ стили, которые нужны ВЕЗДЕ -->
    
    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/cart.css">

    
    <!-- Сюда вставятся УНИКАЛЬНЫЕ стили для конкретной страницы -->
    <% if (typeof pageStyles !== 'undefined' && pageStyles && pageStyles.length > 0) { %>
        <% pageStyles.forEach(style => { %>
            <link rel="stylesheet" href="<%= style %>">
        <% }); %>
    <% } %>
</head>
<body class="<%= typeof bodyClass !== 'undefined' ? bodyClass : '' %>">
<%- include('_header') %>

    <div class="main-container">
        

        <main class="content">
            <%- body %>
        </main>
    </div>


    <%- include('_modals') %>
    <%- include('_cart') %>


    <svg width="0" height="0" style="position: absolute;">
        <defs>
            <filter id="goo" x="-50%" width="200%" y="-50%" height="200%" color-interpolation-filters="sRGB">
                <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7" result="cm" />
            </filter>
            <filter id="goo-light" x="-50%" width="200%" y="-50%" height="200%" color-interpolation-filters="sRGB">
                <feGaussianBlur in="SourceGraphic" stdDeviation="1.25" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7" result="cm" />
            </filter>
            <filter id="goo-big" x="-50%" width="200%" y="-50%" height="200%" color-interpolation-filters="sRGB">
                <feGaussianBlur in="SourceGraphic" stdDeviation="7" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7" result="cm" />
            </filter>
        </defs>
    </svg>



    <!-- Подключаем ОБЩИЕ скрипты -->
    <script src="/js/userAuth.js" defer></script>
    <script src="/js/global-utils.js" defer></script>
    <script src="/js/main.js" defer></script>
    <script src="/js/header.js"defer></script>
    
    
    
    <!-- Сюда вставятся УНИКАЛЬНЫЕ скрипты для конкретной страницы -->
    <% if (typeof pageScripts !== 'undefined' && pageScripts && pageScripts.length > 0) { %>
        <% pageScripts.forEach(script => { %>
            <script src="<%= script %>"></script>
        <% }); %>
    <% } %>
</body> 
</html> 
